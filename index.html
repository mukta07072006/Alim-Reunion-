<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Jamea Ahmadia Reunion 2025</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --primary-dark: #0a2e1d;
      --primary: #1b5e3f;
      --primary-light: #2d7d56;
      --accent: #4caf50;
      --text-light: #f5f5f5;
      --text-muted: #bdbdbd;
      --card-bg: #1e1e1e;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
      background-color: #121212;
      color: var(--text-light);
      line-height: 1.6;
    }

    header {
      position: relative;
      overflow: hidden;
      box-shadow: 0 10px 30px rgba(0,0,0,0.3);
    }

    header img {
      width: 100%;
      height: auto;
      max-height: 50vh;
      object-fit: cover;
      display: block;
      border-radius: 0 0 20px 20px;
    }

    .header-text {
      text-align: center;
      padding: 2rem;
      background: var(--primary-dark);
    }

    .header-text h1 {
      font-size: 2.5rem;
      margin-bottom: 0.5rem;
      color: var(--text-light);
    }

    .header-text p {
      color: var(--text-muted);
      font-size: 1.1rem;
    }

    .navbar {
      display: flex;
      justify-content: center;
      background-color: var(--primary-dark);
      padding: 0.2rem;
      position: sticky;
      top: 0;
      z-index: 100;
      box-shadow: 0 4px 12px rgba(0,0,0,0.2);
      white-space: nowrap;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
    }

    .navbar a {
      background-color: transparent;
      border: none;
      color: var(--text-light);
      padding: 0.8rem 1.5rem;
      margin: 0 0.5rem;
      border-radius: 50px;
      font-weight: 450;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      text-decoration: none;
      display: inline-block;
      flex-shrink: 0;
    }

    .navbar a:hover {
      color: var(--accent);
      transform: translateY(-2px);
    }

    .navbar a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 2px;
      background: var(--accent);
      transition: width 0.3s ease;
    }

    .navbar a:hover::after {
      width: 70%;
    }

    .container {
      max-width: 800px;
      margin: 3rem auto;
      padding: 2.5rem;
      background: var(--card-bg);
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    }

    h2 {
      font-size: 2rem;
      margin-bottom: 1.5rem;
      color: var(--text-light);
      position: relative;
      display: inline-block;
    }

    h2::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      width: 60px;
      height: 4px;
      background: var(--accent);
      border-radius: 2px;
    }

    .about-section {
      background: linear-gradient(135deg, var(--primary-dark), var(--primary));
      color: var(--text-light);
      border-radius: 16px;
      padding: 2.5rem;
      margin: 3rem auto;
      max-width: 800px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
      position: relative;
      overflow: hidden;
    }

    .about-section::before {
      content: '';
      position: absolute;
      top: -50%;
      right: -50%;
      width: 100%;
      height: 200%;
      background: radial-gradient(circle, rgba(76,175,80,0.1) 0%, transparent 70%);
      z-index: 0;
    }

    .about-section h2 {
      color: white;
    }

    .about-section p {
      position: relative;
      z-index: 1;
    }

    .countdown-container {
      background: rgba(0,0,0,0.7);
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      max-width: 500px;
      margin: 20px auto;
      backdrop-filter: blur(5px);
    }

    .countdown {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 15px;
    }

    .countdown-item {
      background: var(--primary-dark);
      padding: 15px;
      border-radius: 10px;
      min-width: 70px;
    }

    .countdown-item span {
      font-size: 2.5rem;
      font-weight: bold;
      background: linear-gradient(to bottom, #fff, #e0e0e0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .countdown-item small {
      display: block;
      color: var(--text-muted);
      text-transform: uppercase;
      font-size: 0.8rem;
      margin-top: 5px;
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--text-light);
    }
.form-group input[type="text"],
.form-group input[type="tel"],
.form-group input[type="text"],
    form-group input [type="text"] {
  width: 100%;
  padding: 0.75rem;
  border: 1px solid var(--primary-light);
  border-radius: 4px;
  background-color: rgba(255, 255, 255, 0.1);
  color: var(--text-light);
  font-size: 1rem;
  transition: border-color 0.3s ease;
}
    .radio-group {
      display: flex;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .radio-option {
      display: flex;
      align-items: center;
      cursor: pointer;
    }

    .radio-option input {
      display: none;
    }

    .radio-custom {
      width: 20px;
      height: 20px;
      border: 2px solid var(--primary-light);
      border-radius: 50%;
      margin-right: 0.5rem;
      position: relative;
      transition: all 0.3s ease;
    }

    .radio-option input:checked + .radio-custom {
      border-color: var(--accent);
      background-color: var(--accent);
    }

    .radio-option input:checked + .radio-custom::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 10px;
      height: 10px;
      background: white;
      border-radius: 50%;
    }

    .upload-area {
      border: 2px dashed var(--primary-light);
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      margin-bottom: 1.5rem;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .upload-area:hover {
      border-color: var(--accent);
      background: rgba(76,175,80,0.05);
    }

    .upload-area i {
      font-size: 2.5rem;
      color: var(--accent);
      margin-bottom: 1rem;
    }

    .upload-area p {
      color: var(--text-muted);
      margin: 0;
    }

    #photo {
      display: none;
    }

    .preview-container {
      display: none;
      margin-top: 1.5rem;
      text-align: center;
    }

    .preview-image {
      max-width: 200px;
      max-height: 200px;
      border-radius: 12px;
      border: 2px solid var(--primary-light);
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }

    button {
      background: linear-gradient(135deg, var(--primary-light), var(--accent));
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 50px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      width: 100%;
      box-shadow: 0 4px 15px rgba(76,175,80,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
    }

    button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(76,175,80,0.4);
    }

    button:disabled {
      background: #424242;
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    canvas {
      display: none;
    }

    footer {
      background: var(--primary-dark);
      color: var(--text-light);
      padding: 2rem;
      text-align: center;
      margin-top: 4rem;
    }

    .footer-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .social-links {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin: 1.5rem 0;
    }

    .social-links a {
      color: var(--text-light);
      font-size: 1.5rem;
      transition: color 0.3s ease;
    }

    .social-links a:hover {
      color: var(--accent);
    }

    .copyright {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .meet-dev {
      background: linear-gradient(135deg, var(--primary-dark), var(--primary));
      text-align: center;
      padding: 2.5rem;
      margin: 3rem auto;
      max-width: 800px;
      border-radius: 16px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    }

    .dev-profile {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 1.5rem;
      margin: 2rem 0;
    }

    .dev-photo {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      overflow: hidden;
      border: 4px solid var(--accent);
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
    }

    .dev-photo img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .dev-details h3 {
      font-size: 1.8rem;
      margin-bottom: 0.5rem;
      color: var(--text-light);
      background: linear-gradient(to right, #fff, #e0e0e0);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    .dev-details p {
      color: var(--text-muted);
      font-style: italic;
    }

    .dev-social {
      display: flex;
      justify-content: center;
      gap: 1.5rem;
      margin-top: 1rem;
    }

    .dev-social a {
      color: var(--text-light);
      font-size: 1.5rem;
      transition: transform 0.3s ease, color 0.3s ease;
    }

    .dev-social a:hover {
      color: var(--accent);
      transform: translateY(-3px);
    }

    .dev-bio {
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }

    .form-container {
      max-width: 800px;
      margin: 2rem auto;
      background: var(--card-bg);
      border-radius: 16px;
      padding: 2rem;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2);
    }
    
#magazineUploadArea {
  position: relative;
  overflow: hidden;
}

#imagePreview {
  margin-top: 1rem;
  border-radius: 4px;
}

.upload-area.has-image {
  padding: 1rem;
}

.upload-area.has-image i, 
.upload-area.has-image p {
  display: none;
}

.upload-area.has-image #imagePreview {
  display: block;
  margin: 0 auto;
}
    /* Animation */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-in {
      animation: fadeIn 0.6s ease forwards;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .header-text h1 {
        font-size: 2rem;
      }

      .container, .about-section, .meet-dev {
        padding: 1.5rem;
        margin: 1.5rem;
      }

      .navbar {
        flex-wrap: wrap;
      }

      .navbar a {
        padding: 0.6rem 1rem;
        margin: 0.3rem;
        font-size: 0.9rem;
      }

      .dev-photo {
        width: 120px;
        height: 120px;
      }
    }

    @media (max-width: 480px) {
      .header-text h1 {
        font-size: 1.8rem;
      }

      .radio-group {
        flex-direction: column;
        gap: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Navigation -->
  <header>
    <nav class="navbar">
      <a href="#home"><i class="fas fa-home"></i> Home</a>
      <a href="album.html"><i class="fas fa-images"></i> Album</a>
    </nav>
    
    <img src="20250601_033118.jpg" alt="Reunion Banner">
  </header>

  <div class="header-text">
    <h1>REUNION OF ALIM 2024</h1>
    <p>Jamea Ahmadia Sunnia Alia Kamil Madrasah</p>
  </div>

  <!-- About Section -->
  <section class="about-section fade-in">
    <h2>About the Reunion</h2>
    <p>Join us on <strong>21st June 2025</strong> to celebrate our unforgettable journey together. This grand event will bring together students from our beloved institution. Let's reconnect, relive memories, and create new ones in this special gathering of our alumni community.</p>
  </section>

  <div class="countdown-container fade-in">
    <h3>Time Until Reunion</h3>
    <div class="countdown">
      <div class="countdown-item">
        <span id="days">00</span>
        <small>Days</small>
      </div>
      <div class="countdown-item">
        <span id="hours">00</span>
        <small>Hours</small>
      </div>
      <div class="countdown-item">
        <span id="minutes">00</span>
        <small>Minutes</small>
      </div>
      <div class="countdown-item">
        <span id="seconds">00</span>
        <small>Seconds</small>
      </div>
    </div>
  </div>

  <!-- Participation Card Form -->
  <div class="container fade-in">
    <div><p>Downloading is available until 15th June.</p></div>
    <h2>Participation Card</h2>
    <div class="form-group">
      <label class="form-label">Did you register for the reunion?</label>
      <div class="radio-group">
        <label class="radio-option">
          <input type="radio" name="registered" value="yes" onchange="toggleUploadArea(true)">
          <span class="radio-custom"></span>
          <span>Yes</span>
        </label>
        <label class="radio-option">
          <input type="radio" name="registered" value="no" onchange="toggleUploadArea(false)">
          <span class="radio-custom"></span>
          <span>No</span>
        </label>
      </div>
    </div>

    <div id="participationUploadArea" class="upload-area" onclick="document.getElementById('photo').click()">
      <i class="fas fa-cloud-upload-alt"></i>
      <p>Click to upload your photo</p>
      <p class="text-muted">(JPEG or PNG, max 5MB)</p>
      <input type="file" id="photo" accept="image/*">
    </div>

    <div id="previewContainer" class="preview-container">
      <img id="previewImage" class="preview-image" src="#" alt="Preview">
      <button onclick="document.getElementById('photo').click()" style="margin-top: 1rem; width: auto;">
        <i class="fas fa-sync-alt"></i> Change Photo
      </button>
    </div>

    <button id="generateBtn" onclick="generateCard()" disabled>
      <i class="fas fa-download"></i> Generate & Download Card
    </button>

    <canvas id="canvas" width="3000" height="1993"></canvas>
  </div>

  <!-- Formspree Form -->
  <div class="container fade-in">
    <h2>Submit Info for Magazine</h2>
    <form id="reunion-form" action="https://usebasin.com/f/f721e8c7516b" method="POST" enctype="multipart/form-data">
      <div class="form-group">
        <label for="fullname">Full Name*</label>
        <input type="text" id="fullname" name="name" required>
      </div>
      
      <div class="form-group">
        <label for="email">Email*</label>
        <input type="email" id="email" name="email" required>
      </div>
      
      <div class="form-group">
        <label for="address">Address</label>
        <input type="text" id="address" name="address">
      </div>
      <div class="form-group">
        <label for="secretcode">Secret Code</label>
        <input type="text" id="secretcode" name="secretcode">
      </div>
      
      <div class="form-group">
        <label>Profile Photo</label>
        <div class="upload-area" id="magazineUploadArea">
          <i class="fas fa-camera"></i>
          <p>Click to upload your photo</p>
          <img id="imagePreview" style="display: none; max-width: 100%; max-height: 200px;">
          <input type="file" id="photoInput" name="photo" accept="image/*" style="display:none">
        </div>
      </div>
      
      <button type="submit">Submit Registration</button>
    </form>
  </div>

  <!-- Meet the Dev Section -->
  <section class="meet-dev about-section fade-in">
    <div class="dev-container">
      <h2>Meet the Dev</h2>
      
      <div class="dev-profile">
        <div class="dev-photo">
          <img src="hasnain.jpg" alt="Moshud Muktadir Al Hasnain">
        </div>
        
        <div class="dev-details">
          <h3>Moshud Muktadir Al Hasnain</h3>
          <p>Islamic Studies (CU)</p>
          
          <div class="dev-social">
            <a href="#" target="_blank"><i class="fab fa-github"></i></a>
            <a href="#" target="_blank"><i class="fab fa-linkedin"></i></a>
            <a href="#" target="_blank"><i class="fas fa-envelope"></i></a>
          </div>
        </div>
      </div>
      
      <p class="dev-bio">
        Proud alumnus who built this platform to reconnect our batch. 
        Passionate about using technology to bring people together.
      </p>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="social-links">
        <a href="https://www.facebook.com/share/1BUncs6Jrt/"><i class="fab fa-facebook"></i></a>
        <a href="https://chat.whatsapp.com/Cc3BOhQVMxuI4khIrR7MAZ"><i class="fab fa-whatsapp"></i></a>
      </div>
      <p class="copyright">Â© 2025 Jamea Ahmadia Reunion. All rights reserved.</p>
      <p class="copyright">Designed by <a href="https://www.facebook.com/share/1BrXJuuRAB/">Moshud Muktadir Al Hasnain</a></p>
    </div>
  </footer>

  <script>
    // Toggle upload area based on registration status
    function toggleUploadArea(show) {
      const uploadArea = document.getElementById('participationUploadArea');
      const previewContainer = document.getElementById('previewContainer');
      const generateBtn = document.getElementById('generateBtn');
      
      if (show) {
        uploadArea.style.display = 'block';
        previewContainer.style.display = 'none';
        generateBtn.disabled = true;
      } else {
        uploadArea.style.display = 'none';
        previewContainer.style.display = 'none';
        generateBtn.disabled = true;
        alert("Please register first to generate your participation card.");
      }
    }

    // Photo upload preview for participation card
    document.getElementById('photo').addEventListener('change', function(e) {
      const previewContainer = document.getElementById('previewContainer');
      const previewImage = document.getElementById('previewImage');
      const generateBtn = document.getElementById('generateBtn');
      
      if (this.files && this.files[0]) {
        // Check file size (5MB max)
        if (this.files[0].size > 5 * 1024 * 1024) {
          alert('File size too large (max 5MB)');
          return;
        }
        
        const reader = new FileReader();
        
        reader.onload = function(e) {
          previewImage.src = e.target.result;
          previewContainer.style.display = 'block';
          generateBtn.disabled = false;
        }
        
        reader.readAsDataURL(this.files[0]);
      }
    });

    // Generate participation card with rounded corners
    function generateCard() {
      const photoInput = document.getElementById('photo');
      const canvas = document.getElementById('canvas');
      const ctx = canvas.getContext('2d');

      if (!photoInput.files[0]) {
        alert("Please upload your photo first.");
        return;
      }

      // Show loading state
      const generateBtn = document.getElementById('generateBtn');
      generateBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating...';
      generateBtn.disabled = true;

      const template = new Image();
      template.src = "template.jpg";
      
      template.onload = () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(template, 0, 0, canvas.width, canvas.height);

        const reader = new FileReader();
        reader.onload = (e) => {
          const userImg = new Image();
          userImg.src = e.target.result;

          userImg.onload = () => {
            const size = Math.min(userImg.width, userImg.height);
            const sx = (userImg.width - size) / 2;
            const sy = (userImg.height - size) / 2;
            
            // Rounded corners implementation
            const radius = 30;
            const x = 1890, y = 1120, width = 500, height = 500;
            
            ctx.save();
            
            // Create clipping path
            ctx.beginPath();
            ctx.moveTo(x + radius, y);
            ctx.arcTo(x + width, y, x + width, y + height, radius);
            ctx.arcTo(x + width, y + height, x, y + height, radius);
            ctx.arcTo(x, y + height, x, y, radius);
            ctx.arcTo(x, y, x + width, y, radius);
            ctx.closePath();
            ctx.clip();
            
            // Draw user image
            ctx.drawImage(userImg, sx, sy, size, size, x, y, width, height);
            
            // Optional: Add white border
            ctx.beginPath();
            ctx.lineWidth = 16;
            ctx.strokeStyle = "#0a2e1d";
            ctx.roundRect(x, y, width, height, radius);
            ctx.stroke();
            
            ctx.restore();

            // Convert canvas to blob and download
            canvas.toBlob(blob => {
              const link = document.createElement('a');
              link.href = URL.createObjectURL(blob);
              link.download = 'reunion_participation_card.jpg';
              link.click();
              
              // Reset button
              generateBtn.innerHTML = '<i class="fas fa-download"></i> Generate & Download Card';
              generateBtn.disabled = false;
            }, 'image/jpeg', 0.9);
          };
        };
        reader.readAsDataURL(photoInput.files[0]);
      };
    }

    // Countdown timer
    const reunionDate = new Date(2025, 5, 21); // June 21, 2025

    function updateCountdown() {
      const now = new Date();
      const diff = reunionDate - now;

      if (diff <= 0) {
        document.querySelector('.countdown').innerHTML = 
          '<div class="event-reached">The reunion has started! ðŸŽ‰</div>';
        return;
      }

      const days = Math.floor(diff / (1000 * 60 * 60 * 24));
      const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
      const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
      const seconds = Math.floor((diff % (1000 * 60)) / 1000);

      document.getElementById('days').textContent = days.toString().padStart(2, '0');
      document.getElementById('hours').textContent = hours.toString().padStart(2, '0');
      document.getElementById('minutes').textContent = minutes.toString().padStart(2, '0');
      document.getElementById('seconds').textContent = seconds.toString().padStart(2, '0');
    }

    // Formspree form handling
    document.addEventListener('DOMContentLoaded', function() {
      // Magazine form upload handling
      const magazineUploadArea = document.getElementById('magazineUploadArea');
      const photoInput = document.getElementById('photoInput');
      const imagePreview = document.getElementById('imagePreview');

      magazineUploadArea.addEventListener('click', () => {
        photoInput.click();
      });

      photoInput.addEventListener('change', (e) => {
        const file = e.target.files[0];
        if (file) {
          // Check file size (5MB max)
          if (file.size > 5 * 1024 * 1024) {
            alert('File size too large (max 5MB)');
            return;
          }
          
          const reader = new FileReader();
          reader.onload = (event) => {
            imagePreview.src = event.target.result;
            imagePreview.style.display = 'block';
            magazineUploadArea.classList.add('has-image');
          };
          reader.readAsDataURL(file);
        }
      });

      // Form submission handler
      document.getElementById('reunion-form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        const formData = new FormData(this);
        
        // Show loading state
        const submitBtn = this.querySelector('button[type="submit"]');
        submitBtn.disabled = true;
        submitBtn.textContent = 'Uploading...';
        
        fetch(this.action, {
          method: 'POST',
          body: formData,
          headers: {
            'Accept': 'application/json'
          }
        })
        .then(response => {
          if (response.ok) {
            alert('Thank you for registering!');
            this.reset();
            // Reset upload area
            imagePreview.style.display = 'none';
            magazineUploadArea.classList.remove('has-image');
            photoInput.value = '';
          } else {
            throw new Error('Form submission failed');
          }
        })
        .catch(error => {
          console.error('Error:', error);
          alert('Submission failed. Please try again.');
        })
        .finally(() => {
          submitBtn.disabled = false;
          submitBtn.textContent = 'Submit Registration';
        });
      });

      // Initialize countdown
      setInterval(updateCountdown, 1000);
      updateCountdown();

      // Set up intersection observer for fade-in effects
      const fadeElements = document.querySelectorAll('.fade-in');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = 1;
            observer.unobserve(entry.target);
          }
        });
      }, { threshold: 0.1 });
      
      fadeElements.forEach(el => {
        el.style.opacity = 0;
        el.style.transition = 'opacity 0.6s ease';
        observer.observe(el);
      });
    });
  </script>
</body>
</html>
